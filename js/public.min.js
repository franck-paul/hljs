"use strict";function hljsAddClass(e,t){const l=(e.className||"").split(/\s+/);l.push(l.includes(t)?"":t),e.className=l.join(" ").trim()}function hljsDataLanguage(e,t){return dotclear.hljs_config.badge&&void 0!==t&&"undefined"!==t&&"plain"!==t&&"plaintext"!==t&&"txt"!==t&&"text"!==t&&(e.dataset.language=t),e.dataset.language}dotclear.hljs_config=dotclear.getData("hljs_config"),dotclear.hljs_config.path=dotclear.hljs_config.path||"",dotclear.hljs_config.mode=dotclear.hljs_config.mode||"",dotclear.hljs_config.show_line=dotclear.hljs_config.show_line&&!0,dotclear.hljs_config.badge=dotclear.hljs_config.badge||!1,dotclear.hljs_config.use_ww=dotclear.hljs_config.use_ww||!1,dotclear.hljs_config.yash=dotclear.hljs_config.yash&&!0,dotclear.hljs_config.ww=!!window.Worker;const hljsLoad=()=>{if(dotclear.hljs_config.ww&&dotclear.hljs_config.use_ww)return;const e=document.createElement("script");e.src=`${dotclear.hljs_config.path}lib/js/highlight${dotclear.hljs_config.mode?`-${dotclear.hljs_config.mode}`:""}.pack.js`,e.type="text/javascript",void 0!==e.async&&(e.async=!0),document.getElementsByTagName("head")[0].appendChild(e)},hljsLoadExtensions=()=>{if(dotclear.hljs_config.ww&&dotclear.hljs_config.use_ww)return;const e=document.createElement("script");e.src=`${dotclear.hljs_config.path}lib/js/cbtpl.js`,e.type="text/javascript",void 0!==e.async&&(e.async=!0),document.getElementsByTagName("head")[0].appendChild(e)},hljsRun=()=>{if(dotclear.hljs_config.yash){document.querySelectorAll('pre[class^="brush:"]').forEach((e=>{e.innerHTML=`<code class="${e.className}">${e.innerHTML.trim()}</code>`}))}document.querySelectorAll("pre code:not(.nohighlight)").forEach((e=>{const t=e=>{e.innerHTML=`<span class="hljs-line-number"></span>\n${e.innerHTML}\n<span class="hljs-cl"></span>`;const t=e.innerHTML.split(/\n/).length;for(let l=0;l<t;l++){e.getElementsByTagName("span")[0].innerHTML+=`<span>${0==l||l==t-1?"&nbsp;":l}</span>`}};let l;hljsAddClass(e,"hljs"),hljsAddClass(e.parentNode,"hljs-wrapper"),dotclear.hljs_config.show_line||hljsAddClass(e,"hljs-no-gutter"),e.textContent=e.textContent.trim();let a,s="";if(dotclear.hljs_config.ww&&dotclear.hljs_config.use_ww){l=e.className,a=l.match(/\blanguage-(\w*)\b/),!dotclear.hljs_config.yash||a&&2===a.length||(a=l.match(/\bbrush:(\w*)\b/)),a&&2==a.length&&(s="plain"==a[1]||"txt"==a[1]||"text"==a[1]||"plaintext"==a[1]?"plaintext":a[1]);const n=new Worker(`${dotclear.hljs_config.path}worker.js`);return n.onmessage=l=>{e.innerHTML=l.data.result;const a=l.data.language;hljsAddClass(e,a),hljsDataLanguage(e,a),dotclear.hljs_config.show_line&&t(e)},void n.postMessage([e.textContent,dotclear.hljs_config.path,dotclear.hljs_config.mode,s])}hljs.registerLanguage("cbtpl",hljsExtentCbtpl),l=e.className,s="plain",a=l.match(/\blanguage-(\w*)\b/);let n=!1;!dotclear.hljs_config.yash||a&&2===a.length||(a=l.match(/\bbrush:(\w*)\b/),a&&2==a.length&&(n=!0)),a&&2==a.length&&"plain"!=a[1]&&"plaintext"!=a[1]&&"txt"!=a[1]&&"text"!=a[1]&&hljs.getLanguage(a[1])&&(s=a[1]),n&&hljsAddClass(e,s),hljsDataLanguage(e,s),hljs.configure({tabReplace:"  "}),hljs.highlightBlock(e),dotclear.hljs_config.show_line&&t(e),void 0===hljsDataLanguage(e)&&(l=e.className.split(" "),l.forEach((t=>{hljs.getLanguage(t)&&hljsDataLanguage(e,t)})))}))},hljsCopy=()=>{if(!dotclear.hljs_config.show_copy)return void document.styleSheets[0].insertRule(".hljs::after { display: none !important; }",0);navigator.permissions.query({name:"write-on-clipboard"}).then((e=>{"granted"!=e.state&&"prompt"!=e.state&&document.styleSheets[0].insertRule(".hljs::after { display: none !important; }",0)})),document.styleSheets[0].insertRule(`.hljs::after { content: '${dotclear.hljs_config.copy}' !important; }`,0);const e=document.querySelectorAll(".hljs");e.length&&e.forEach((e=>{e.addEventListener("click",(e=>{const t=e.currentTarget||e.target,l=getComputedStyle(t,":after");if(!l)return;const a=Number(l.getPropertyValue("top").slice(0,-2)),s=Number(l.getPropertyValue("height").slice(0,-2)),n=Number(l.getPropertyValue("left").slice(0,-2)),o=Number(l.getPropertyValue("width").slice(0,-2)),c=e.layerX,r=e.layerY;if(!(c>n&&c<n+o&&r>a&&r<a+s))return;const i=[];t.childNodes.forEach((function e(t){t.nodeType===Node.ELEMENT_NODE&&"span"===t.tagName.toLowerCase()&&t.classList.contains("hljs-line-number")||(t.nodeType===Node.TEXT_NODE&&i.push(t.nodeValue),t.childNodes.forEach(e))})),navigator.clipboard.writeText(i.join("").trim()).then((()=>{console.log("Content copied to clipboard")}),(()=>{console.error("Failed to copy")}))}))}))};hljsLoad(),hljsLoadExtensions(),dotclear.ready((()=>{hljsRun(),hljsCopy()}));
