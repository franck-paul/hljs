"use strict";dotclear.ready((()=>{$("#hljs-cancel").on("click",(()=>{window.close()})),$("#hljs-ok").on("click",(e=>{e.preventDefault(),function(){const e=$("#hljs-form").get(0);if(null==e)return;const n=window.opener.$.getEditorName(),t=window.opener.CKEDITOR.instances[n],o=t.getSelection().getSelectedText()||"",l=e.syntax.value,c=new window.opener.CKEDITOR.dom.element("code");""!=l&&c.addClass(`language-${l}`);""==o?c.appendText("code"):c.appendText(o);const d=new window.opener.CKEDITOR.dom.element("pre");d.append(c),t.insertElement(d),""==o&&t.getSelection().selectElement(c)}(),window.close()}))}));
