"use strict";dotclear.ready((()=>{document.getElementById("hljs-cancel")?.addEventListener("click",(e=>{e.preventDefault(),window.close()})),document.getElementById("hljs-ok")?.addEventListener("click",(e=>{e.preventDefault(),function(){const e=document.getElementById("hljs-form");if(!e)return;const n=window.opener.$.getEditorName(),t=window.opener.CKEDITOR.instances[n],o=t.getSelection().getSelectedText()||"",d=e.syntax.value,l=new window.opener.CKEDITOR.dom.element("code");""!==d&&l.addClass(`language-${d}`);l.appendText(""===o?"code":o);const c=new window.opener.CKEDITOR.dom.element("pre");c.append(l),t.insertElement(c),""===o&&t.getSelection().selectElement(l)}(),window.close()}))}));
